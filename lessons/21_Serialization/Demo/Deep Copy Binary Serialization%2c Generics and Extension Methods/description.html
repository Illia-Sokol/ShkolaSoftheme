<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="description/Combined.css,0:HeaderFooterSprite,0:Header.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=C9973DA951AE6202C9B348379A1BE49D" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="description/a7d1e078-8570-47da-a87b-ff462dfc958dCombined.css,0:HeaderFooterSprite,0:Footer.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;hashKey=F576C687BC536B84D6E5B3246EE39B49" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Deep Copy: Binary Serialization, Generics and Extension Methods</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Deep Copy: Binary Serialization, Generics and Extension Methods</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            C#, .NET Framework, .NET Framework 4.0, Windows General, C# Language
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            C#, Data Binding, Serialization, Architecture and Design, content serialization, Development, Extensibility, Generics, Binary Formatting, .NET 4, How to
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Desktop, Web, Cloud, Data
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">2/22/2013</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MS-LPL</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/Deep-copy-objects-using-e67e555d">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p><span style="font-size:small">This article illustrates how to create deep copies of an object by making use of
<a title="Binary serialization" href="http://msdn.microsoft.com/en-us/library/fw1y2tet.aspx" >
binary serialization</a> implemented in the form of an <a title="Extension method" href="http://msdn.microsoft.com/en-us/library/vstudio/bb383977.aspx" >
extension method</a> with <a title="Generic types" href="http://msdn.microsoft.com/en-us/library/512aeb7t(v=vs.110).aspx" >
generic type</a> support.</span></p>
<p style="text-align:justify"><span style="font-size:small"><strong>Update 2013/02/23:
</strong>I've posted a new article detailing how to&nbsp;create a deep copy of an object using the
<a title="MSDN: NetDataContractSerializer" href="http://msdn.microsoft.com/en-us/library/system.runtime.serialization.netdatacontractserializer.aspx" >
NetDataContractSerializer</a> class: <a title="NetDataContractSerializer Deep Copy" href="http://code.msdn.microsoft.com/Deep-Copy-NetDataContractSe-c57abdc0" >
http://code.msdn.microsoft.com/Deep-Copy-NetDataContractSe-c57abdc0</a></span></p>
<h1><span>Building the Sample</span></h1>
<p><span style="font-size:small">There are no special requirements or instructions&nbsp;to building the sample code.</span></p>
<h1><span style="font-size:20px; font-weight:bold">Description: </span>Shallow Copy and Deep Copy</h1>
<p style="text-align:justify"><span style="font-size:small">When creating a copy of an object in memory, the type of copy can be described as either a shallow copy or a deep copy. The
<a title="Object class" href="http://msdn.microsoft.com/en-us/library/system.object.aspx" >
Object</a> class defines the <a title="MemberwiseClone method" href="http://msdn.microsoft.com/en-us/library/system.object.memberwiseclone.aspx" >
MemberwiseClone</a> method, which performs a bit by bit copy of an object&rsquo;s value type members. In the case of reference type members the
<strong><em>MemberwiseClone</em></strong> method will create a copy of the reference, but not a copy of the object being referenced. Creating a copy of an object using the
<em><strong>MemberwiseClone</strong></em> method will thus result in copies and the original object still referencing the same member object in memory when that object is a reference type. The
<strong><em>MemberwiseClone</em></strong> method performs a shallow copy when invoked.</span></p>
<p style="text-align:justify"><span style="font-size:small">A deep copy of an object results in copies and the original object not referencing the same reference type member object in memory.</span></p>
<h1>Example custom data type</h1>
<p style="text-align:justify"><span style="font-size:small">The sample source code provided with this article provides a user defined data type, the
<strong><em>CustomDataType</em></strong> class of which the code snippet is listed below.&nbsp;</span></p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">[Serializable]
public class CustomDataType
{
    private int intMember = 0;
    public int IntMember
    {
        get { return intMember; }
        set { intMember = value; }
    }

    private string stringMember = String.Empty;
    public string StringMember
    {
        get { return stringMember; }
        set { stringMember = value; }
    }

    private DateTime dateTimeMember = DateTime.MinValue;
    public DateTime DateTimeMember
    {
        get { return dateTimeMember; }
        set { dateTimeMember = value; }
    }

    public override string ToString()
    {
        return &quot;IntMember: &quot; &#43; IntMember &#43; &quot;,
DateTimeMember: &quot; &#43; DateTimeMember.ToString() &#43; &quot;, StringMember: &quot; &#43; stringMember;
    }
}</pre>
<div class="preview">
<pre class="csharp">[Serializable]&nbsp;
<span class="cs__keyword">public</span>&nbsp;<span class="cs__keyword">class</span>&nbsp;CustomDataType&nbsp;
{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">private</span>&nbsp;<span class="cs__keyword">int</span>&nbsp;intMember&nbsp;=&nbsp;<span class="cs__number">0</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">public</span>&nbsp;<span class="cs__keyword">int</span>&nbsp;IntMember&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">get</span>&nbsp;{&nbsp;<span class="cs__keyword">return</span>&nbsp;intMember;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">set</span>&nbsp;{&nbsp;intMember&nbsp;=&nbsp;<span class="cs__keyword">value</span>;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">private</span>&nbsp;<span class="cs__keyword">string</span>&nbsp;stringMember&nbsp;=&nbsp;String.Empty;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">public</span>&nbsp;<span class="cs__keyword">string</span>&nbsp;StringMember&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">get</span>&nbsp;{&nbsp;<span class="cs__keyword">return</span>&nbsp;stringMember;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">set</span>&nbsp;{&nbsp;stringMember&nbsp;=&nbsp;<span class="cs__keyword">value</span>;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">private</span>&nbsp;DateTime&nbsp;dateTimeMember&nbsp;=&nbsp;DateTime.MinValue;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">public</span>&nbsp;DateTime&nbsp;DateTimeMember&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">get</span>&nbsp;{&nbsp;<span class="cs__keyword">return</span>&nbsp;dateTimeMember;&nbsp;}&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">set</span>&nbsp;{&nbsp;dateTimeMember&nbsp;=&nbsp;<span class="cs__keyword">value</span>;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">public</span>&nbsp;<span class="cs__keyword">override</span>&nbsp;<span class="cs__keyword">string</span>&nbsp;ToString()&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">return</span>&nbsp;<span class="cs__string">&quot;IntMember:&nbsp;&quot;</span>&nbsp;&#43;&nbsp;IntMember&nbsp;&#43;&nbsp;&quot;,&nbsp;
DateTimeMember:&nbsp;<span class="cs__string">&quot;&nbsp;&#43;&nbsp;DateTimeMember.ToString()&nbsp;&#43;&nbsp;&quot;</span>,&nbsp;StringMember:&nbsp;&quot;&nbsp;&#43;&nbsp;stringMember;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
}</pre>
</div>
</div>
</div>
<p style="text-align:justify"><span style="font-size:small">Notice that the <strong>
<em>CustomDataType</em></strong> class definition is marked with the <a title="Serializable attribute" href="http://msdn.microsoft.com/en-us/library/system.serializableattribute.aspx" >
Serializable attribute</a>. Objects of which the type definition is not marked with the
<strong><em>Serializable</em></strong> attribute cannot be serialized. Trying to perform serialization on objects not marked as
<strong><em>Serializable</em></strong> will result in an exception being thrown.</span></p>
<h1><span>The DeepCopy method &ndash; Implementation as an extension method with generic type support</span></h1>
<p style="text-align:justify"><span style="font-size:small"><a title="Extension method architecture" href="http://msdn.microsoft.com/en-us/library/vstudio/bb383977.aspx" >Extension method architecture</a> enables developers to create methods
 which, from a syntactic and implementation point of view appear to be part of an existing data type. Extension methods create the perception of being updates or additions, literarily extending a data type as the name implies. Extension methods do not require
 access to the source code of the particular types being extended, nor does the implementation thereof require recompilation of the referenced types.</span></p>
<p style="text-align:justify"><span style="font-size:small">This article illustrates a combined implementation of extension methods extending the functionality of
<a title="Generic types" href="http://msdn.microsoft.com/en-us/library/512aeb7t(v=vs.110).aspx">
generic types</a>. The following code snippet provides the extension method definition.</span></p>
<p style="text-align:justify"><span style="font-size:small">&nbsp;</span></p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">public static T DeepCopy&lt;T&gt;(this T objectToCopy)
{
    MemoryStream memoryStream = new MemoryStream();
    BinaryFormatter binaryFormatter = new BinaryFormatter();
    binaryFormatter.Serialize(memoryStream, objectToCopy);

    memoryStream.Position = 0;
    T returnValue = (T)binaryFormatter.Deserialize(memoryStream);

    memoryStream.Close();
    memoryStream.Dispose();

    return returnValue;
}</pre>
<div class="preview">
<pre class="csharp"><span class="cs__keyword">public</span>&nbsp;<span class="cs__keyword">static</span>&nbsp;T&nbsp;DeepCopy&lt;T&gt;(<span class="cs__keyword">this</span>&nbsp;T&nbsp;objectToCopy)&nbsp;
{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;MemoryStream&nbsp;memoryStream&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;MemoryStream();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;BinaryFormatter&nbsp;binaryFormatter&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;BinaryFormatter();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;binaryFormatter.Serialize(memoryStream,&nbsp;objectToCopy);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;memoryStream.Position&nbsp;=&nbsp;<span class="cs__number">0</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;returnValue&nbsp;=&nbsp;(T)binaryFormatter.Deserialize(memoryStream);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;memoryStream.Close();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;memoryStream.Dispose();&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__keyword">return</span>&nbsp;returnValue;&nbsp;
}</pre>
</div>
</div>
</div>
<div class="endscriptcode">&nbsp;</div>
<p>&nbsp;</p>
<p style="text-align:justify"><span style="font-size:small">The <strong><em>DeepCopy</em></strong> method is defined as an extension method by virtue of being a static method of a static class and by specifying the
<a title="this Keyword" href="http://msdn.microsoft.com/en-us/library/vstudio/dk1507sz.aspx" >
this</a> keyword in its parameter definition.</span></p>
<p style="text-align:justify"><span style="font-size:small"><strong><em>DeepCopy</em></strong> additionally defines the generic type
<strong><em>&lt;T&gt;</em></strong> which determines the return value&rsquo;s type and the type of the parameter
<strong><em>objectToCopy</em></strong>.</span></p>
<p style="text-align:justify"><span style="font-size:small">The method body creates an instance of a&nbsp;
<a title="MemoryStream class" href="http://msdn.microsoft.com/en-us/library/system.io.memorystream.aspx" >
MemoryStream</a> object and an object instance of type <a title="BinaryFormatter class" href="http://msdn.microsoft.com/en-us/library/system.runtime.serialization.formatters.binary.binaryformatter.aspx" >
BinaryFormatter</a>. When <a title="BinaryFormatter.Serialize method" href="http://msdn.microsoft.com/en-us/library/c5sbs8z9.aspx" >
BinaryFormatter.Serialize</a> is invoked the byte representation of the <strong><em>objectToCopy
</em></strong>parameter is written to the specified <strong><em>MemoryStream</em></strong>. In a similar fashion
<a title="BinaryFormatter.Deserialize" href="http://msdn.microsoft.com/en-us/library/b85344hz.aspx" >
BinaryFormatter.Deserialize</a> is invoked next, reading the byte representation from the specified
<strong><em>MemoryStream</em></strong>. The object returned is cast to the same type as the object originally serialized.</span></p>
<h1><span>The implementation</span></h1>
<p style="text-align:justify"><span style="font-size:small">The <strong><em>DeepCopy</em></strong> method illustrated above appears as a member method to the
<strong><em>CustomDataType</em></strong> class created earlier.</span></p>
<div><span>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">static void Main(string[] args)
{
    CustomDataType originalObject = new CustomDataType();
    originalObject.DateTimeMember = DateTime.Now;
    originalObject.IntMember = 42;
    originalObject.StringMember = &quot;Some random string&quot;;

    CustomDataType deepCopyObject = originalObject.DeepCopy();
    deepCopyObject.DateTimeMember = DateTime.MinValue;
    deepCopyObject.IntMember = 123;
    deepCopyObject.StringMember = &quot;Something else...&quot;;

    Console.WriteLine(&quot;originalObject: &quot;);
    Console.WriteLine(originalObject.ToString());
    Console.WriteLine();

    Console.WriteLine(&quot;deepCopyObject: &quot;);
    Console.WriteLine(deepCopyObject.ToString());
    Console.WriteLine();

    Console.WriteLine(&quot;Press any key...&quot;);
    Console.ReadKey();  
}</pre>
<div class="preview">
<pre class="csharp"><span class="cs__keyword">static</span>&nbsp;<span class="cs__keyword">void</span>&nbsp;Main(<span class="cs__keyword">string</span>[]&nbsp;args)&nbsp;
{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;CustomDataType&nbsp;originalObject&nbsp;=&nbsp;<span class="cs__keyword">new</span>&nbsp;CustomDataType();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;originalObject.DateTimeMember&nbsp;=&nbsp;DateTime.Now;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;originalObject.IntMember&nbsp;=&nbsp;<span class="cs__number">42</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;originalObject.StringMember&nbsp;=&nbsp;<span class="cs__string">&quot;Some&nbsp;random&nbsp;string&quot;</span>;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;CustomDataType&nbsp;deepCopyObject&nbsp;=&nbsp;originalObject.DeepCopy();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;deepCopyObject.DateTimeMember&nbsp;=&nbsp;DateTime.MinValue;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;deepCopyObject.IntMember&nbsp;=&nbsp;<span class="cs__number">123</span>;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;deepCopyObject.StringMember&nbsp;=&nbsp;<span class="cs__string">&quot;Something&nbsp;else...&quot;</span>;&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(<span class="cs__string">&quot;originalObject:&nbsp;&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(originalObject.ToString());&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine();&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(<span class="cs__string">&quot;deepCopyObject:&nbsp;&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(deepCopyObject.ToString());&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine();&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(<span class="cs__string">&quot;Press&nbsp;any&nbsp;key...&quot;</span>);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.ReadKey();&nbsp;&nbsp;&nbsp;
}</pre>
</div>
</div>
</div>
<p class="endscriptcode">&nbsp;<span style="font-size:small">The code snippet listed above is a console application which implements the
<strong><em>DeepCopy</em></strong> extension method on objects of type <strong><em>CustomDataType</em></strong>. Modifying the member properties of the second object instance will not result in the first object instance properties being modified.</span></p>
</span></div>
<p><span><img id="76115" src="description/BinarySerializationDeepCopy.png" alt="" width="587" height="159"></span></p>
<h1><span>Source Code Files</span></h1>
<ul>
<li><em>CustomDataType.cs - Definition of the CustomDataType class used as an example.</em>
</li><li><em><em>ExtObject.cs - Definition of the Generic Extension method DeepCopy() : The crux of this article</em></em>
</li><li><em>Program.cs - Console based application implemented to test illustrated functionality</em>
</li></ul>
<h1>More Information</h1>
<p style="text-align:justify"><span style="font-size:small">Please remember to rate this article, also feel free to post any questions you might have - Dewald Esterhuizen</span></p>
<p style="text-align:left"><span style="font-size:small">This is article is based on an article originally posted on my
<a title="SoftwareByDefault" href="http://softwarebydefault.com/" >
blog</a>: <a href="http://softwarebydefault.com/2013/02/10/deep-copy-generics/">http://softwarebydefault.com/2013/02/10/deep-copy-generics/</a></span></p>

</div>


    </div>
</body>
</html>
